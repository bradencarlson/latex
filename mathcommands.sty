% mathcommands.sty
% Author: Braden Carlson 
%
% Provides several new commands for math mode, as well as several new
% environments to be used. 

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{mathcommands}

\newcommand{\supp}{\text{supp}}

% Commands for calculus
\def\pd#1#2{\frac{\partial #1}{\partial #2}}
\def\spd#1#2{\frac{\partial^2 #1}{\partial #2^2}}

% Commands for linear algebra (matrices and vectors)
\newcommand{\la}{\left\langle}
\newcommand{\ra}{\right\rangle}
\def\myvec#1{{\bf#1}}

% Commands for standard sets in mathematics.
\newcommand{\F}{\mathbb{F}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Nzero}{\mathbb{N}_0}

% standard commands for algebra
\def\tr{\text{tr}}
\def\det{\text{det}}
\def\im{\text{Im}}
\def\aut{\text{Aut}}
\def\inn{\text{Inn}}
\def\gal{\text{Gal}}

% Provides commands for standard Number Theory notaion.
\def\lcm{\text{lcm}}
\def\mod#1{\hspace{8pt}(\text{mod } #1)}

% Provides the new counter for the theorem, lemmas and corollaries.
\newcounter{theorem}[subsection]
\newcounter{theoremHref}
\setcounter{theoremHref}{0}

% Due to the use of custom environments, when using the hyperref package the
% following line must be added to properly reference these environments. 
%
%    \renewcommand{\theHtheorem}{mythm.\thesection.\thetheorem}
%

% Provides the theorem environment.
\newenvironment{theorem}{
    \refstepcounter{theorem}
    \refstepcounter{theoremHref}
    \ifnum\value{subsection}>0
    \makeatletter
    \def\@currentlabel{\thesubsection.\thetheorem}%
    \makeatother
    \else
    \makeatletter
    \def\@currentlabel{\thesection.\thetheorem}%
    \makeatother
    \fi
    \vspace{5pt}\par\noindent\textbf{Theorem \@currentlabel}\hspace{5pt}\itshape
}{
    \normalfont\vspace{5pt}\par
}

% Provides the lemma environment.
\newenvironment{lemma}{
    \refstepcounter{theorem}
    \refstepcounter{theoremHref}
    \makeatletter
    \ifnum\value{subsection}>0
    \def\@currentlabel{\thesubsection.\thetheorem}%
    \else
    \def\@currentlabel{\thesection.\thetheorem}%
    \fi
    \makeatother
    \vspace{5pt}\par\noindent\textbf{Lemma \@currentlabel}\hspace{5pt}\itshape
}{
    \normalfont\vspace{5pt}\par
}

% Provides the corollary environment.
\newenvironment{corollary}{
    \refstepcounter{theorem}
    \refstepcounter{theoremHref}
    \makeatletter
    \ifnum\value{subsection}>0
    \def\@currentlabel{\thesubsection.\thetheorem}%
    \else
    \def\@currentlabel{\thesection.\thetheorem}%
    \fi
    \makeatother
    \vspace{5pt}\par\noindent\textbf{Corollary \@currentlabel}\hspace{5pt}\itshape
}{
    \normalfont\vspace{5pt}\par
}

% Provides the proof environment
\newenvironment{proof}{
    \vspace{5pt}\par\noindent\textit{Proof.}\ 
}{
    \hfill$\square$\vspace{5pt}\par
}

% Provides the definition environment
\newenvironment{definition}{
        \refstepcounter{theorem}
        \refstepcounter{theoremHref}
        \makeatletter
            \ifnum\value{subsection}>0
            \def\@currentlabel{\thesubsection.\thetheorem}%
            \else
            \def\@currentlabel{\thesection.\thetheorem}%
            \fi
        \makeatother
        \vspace{5pt}\par\noindent\textbf{Definition \@currentlabel}\hspace{5pt}
}{
    \vspace{5pt}\par
}

% Provides the example environment.
\newenvironment{example}{
        \refstepcounter{theorem}
        \refstepcounter{theoremHref}
        \makeatletter
            \ifnum\value{subsection}>0
            \def\@currentlabel{\thesubsection.\thetheorem}%
            \else
            \def\@currentlabel{\thesection.\thetheorem}%
            \fi
        \makeatother
        \vspace{5pt}\par\noindent\textbf{Example \@currentlabel}\hspace{5pt}
}{
		\vspace{5pt}\par
}



